<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR.js Dynamic Markers</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin: 0px; overflow: hidden">
    <a-scene embedded arjs>
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const models = [
          "linear",
          "trigonal_planar",
          "tetrahedral",
          "trigonal_bipyramidal",
          "octahedral",
        ];

        const scene = document.querySelector("a-scene");

        models.forEach((name) => {
          const marker = document.createElement("a-marker");
          marker.setAttribute("type", "pattern");
          marker.setAttribute("url", `assets/patterns2/${name}.patt`);

          const entity = document.createElement("a-entity");
          entity.setAttribute("gltf-model", `assets/models/${name}.glb`);
          entity.setAttribute("position", "0 0.5 0");
          entity.setAttribute("scale", "1 1 1");

          marker.appendChild(entity);
          scene.appendChild(marker);
        });

        console.log("Markers and models added dynamically.");
      });
    </script>
  </body>
</html>
